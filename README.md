# Begriff - Plataforma de InteligÃªncia Financeira Empresarial

Begriff Ã© uma plataforma de inteligÃªncia financeira de nÃ­vel empresarial, meticulosamente projetada para resolver um dos maiores desafios da tecnologia moderna: a modernizaÃ§Ã£o de sistemas legados atravÃ©s de uma arquitetura hÃ­brida inteligente. Considerando que mais de 800 bilhÃµes de linhas de cÃ³digo COBOL ainda estÃ£o em produÃ§Ã£o globalmente, o Begriff nÃ£o busca substituir, mas sim potencializar esse legado. O sistema integra um nÃºcleo COBOL robusto, um middleware C++ de alta performance, uma orquestraÃ§Ã£o Python moderna e uma interface React responsiva, incorporando tecnologias de ponta como IA generativa, blockchain, microserviÃ§os e edge computing. A arquitetura segue rigorosamente os princÃ­pios de Clean Architecture e Domain-Driven Design (DDD), garantindo modularidade, escalabilidade e manutenibilidade empresarial com uma clara separaÃ§Ã£o de responsabilidades entre domÃ­nios especializados.

## ğŸ—ï¸ Arquitetura HÃ­brida SinÃ©rgica

### O CoraÃ§Ã£o Industrial (COBOL)
- **Engine**: GnuCOBOL 3.2+ como motor de processamento central
- **Performance**: Processamento de lotes com mais de 100.000 registros em segundos
- **PrecisÃ£o**: Garantia de precisÃ£o decimal exata para transaÃ§Ãµes financeiras crÃ­ticas
- **Compatibilidade**: Aproveitamento completo do cÃ³digo COBOL legado existente

### O Sistema Nervoso de Ultra Performance (C++)
- **Gateway**: C++20 com bibliotecas Boost e OpenSSL
- **LatÃªncia**: ComunicaÃ§Ã£o com latÃªncias abaixo de 50ms
- **Throughput**: Superior a 100.000 transaÃ§Ãµes por segundo
- **Responsabilidades**: Criptografia, cache inteligente e balanceamento de carga

### O CÃ©rebro Cognitivo (Python & IA)
- **API Layer**: FastAPI como camada de orquestraÃ§Ã£o principal
- **IA Integration**: IntegraÃ§Ã£o direta com modelos de IA e GÃªmeos Digitais
- **Compliance**: Gerenciamento de fluxo de dados e serviÃ§os de conformidade
- **CoordenaÃ§Ã£o**: OrquestraÃ§Ã£o inteligente de todo o ecossistema

## ğŸš€ Funcionalidades AvanÃ§adas

### âœ… Funcionalidades Implementadas (v1.0.0)

- âœ… **Pipeline HÃ­brido Completo**: Fluxo end-to-end Python â†’ C++ â†’ COBOL 100% operacional
- âœ… **Sistema de Identidade Seguro**: AutenticaÃ§Ã£o JWT com bcrypt e proteÃ§Ã£o de rotas
- âœ… **AnÃ¡lise de Fraude com ML**: Modelo scikit-learn integrado para detecÃ§Ã£o inteligente
- âœ… **Rastreamento de Carbono**: CÃ¡lculo automÃ¡tico de pegada ambiental das transaÃ§Ãµes
- âœ… **PersistÃªncia de AnÃ¡lises**: HistÃ³rico completo com recuperaÃ§Ã£o paginada
- âœ… **Arquitetura Limpa**: OrganizaÃ§Ã£o por domÃ­nios (identity, risk, insights, transactions)
- âœ… **Alta Performance**: SQLite em modo WAL para escritas/leituras concorrentes
- âœ… **ContainerizaÃ§Ã£o**: OrquestraÃ§Ã£o completa via docker-compose

### ğŸ”® Funcionalidades Planejadas (Roadmap)

- ğŸ”„ **GÃªmeos Digitais AvanÃ§ados**: SimulaÃ§Ãµes Monte Carlo (10.000+ cenÃ¡rios por anÃ¡lise)
- ğŸ”„ **IA Generativa (Gemini 2.5 Pro)**: Consultoria personalizada com linguagem adaptativa
- ğŸ”„ **ML Ensemble AvanÃ§ado**: Isolation Forest + Autoencoders + LSTM para detecÃ§Ã£o de fraudes (98% precisÃ£o)
- ğŸ”„ **Blockchain Privada**: Auditoria imutÃ¡vel com Smart Contracts e Zero-knowledge proofs
- ğŸ”„ **Open Banking**: IntegraÃ§Ã£o nativa com 15+ bancos brasileiros
- ğŸ”„ **Criptografia PÃ³s-QuÃ¢ntica**: Algoritmos Kyber e Dilithium para seguranÃ§a futura
- ğŸ”„ **Interface React**: Dashboard responsivo e interativo
- ğŸ”„ **Edge Computing**: Processamento distribuÃ­do para ultra-baixa latÃªncia

## ğŸ”§ Stack TecnolÃ³gica

### Backend Core
- **Python 3.9+**: FastAPI para APIs REST de alta performance
- **C++20**: Gateway de alta velocidade com Boost e OpenSSL
- **COBOL**: GnuCOBOL 3.2+ para processamento financeiro crÃ­tico
- **SQLite**: Banco principal em modo WAL para mÃ¡xima performance

### Machine Learning & AI
- **Scikit-learn**: Modelos de detecÃ§Ã£o de fraude e anÃ¡lise preditiva
- **TensorFlow/PyTorch**: Deep Learning para anÃ¡lise comportamental
- **Gemini 2.5 Pro**: IA generativa para insights e consultoria personalizada
- **NumPy/Pandas**: Processamento numÃ©rico e manipulaÃ§Ã£o de dados

### SeguranÃ§a & Blockchain
- **JWT**: AutenticaÃ§Ã£o stateless e segura
- **bcrypt**: Hashing robusto de senhas
- **OpenSSL**: Criptografia de comunicaÃ§Ã£o
- **Ethereum/Polygon**: Blockchain privada para auditoria
- **Post-Quantum Crypto**: Kyber e Dilithium para proteÃ§Ã£o futura

### Infraestrutura & DevOps
- **Docker & Docker Compose**: ContainerizaÃ§Ã£o e orquestraÃ§Ã£o
- **SQLite WAL Mode**: PersistÃªncia de alta performance
- **RESTful APIs**: ComunicaÃ§Ã£o padronizada entre serviÃ§os
- **Microservices**: Arquitetura distribuÃ­da e escalÃ¡vel

## ğŸ“Š Capacidades de AnÃ¡lise AvanÃ§ada

### InteligÃªncia Preditiva com GÃªmeos Digitais
```
SimulaÃ§Ãµes Monte Carlo:
â”œâ”€ CenÃ¡rios: 10.000+ por anÃ¡lise
â”œâ”€ Probabilidade de Sucesso: CÃ¡lculo automÃ¡tico
â”œâ”€ OtimizaÃ§Ãµes: SugestÃµes automÃ¡ticas
â””â”€ LaboratÃ³rio Financeiro: Testes de cenÃ¡rios futuros
```

### DetecÃ§Ã£o de Fraude com ML
```
Ensemble de Algoritmos:
â”œâ”€ Isolation Forest: DetecÃ§Ã£o de anomalias
â”œâ”€ Autoencoders: AnÃ¡lise comportamental
â”œâ”€ LSTM Networks: SequÃªncias temporais suspeitas
â””â”€ PrecisÃ£o: >98% de detecÃ§Ã£o
```

### AnÃ¡lise de Pegada de Carbono
```
Rastreamento ESG:
â”œâ”€ Fatores de EmissÃ£o: DicionÃ¡rio abrangente
â”œâ”€ CÃ¡lculo AutomÃ¡tico: Por transaÃ§Ã£o
â”œâ”€ RelatÃ³rios: Impacto ambiental detalhado
â””â”€ Conformidade: PadrÃµes internacionais
```

## ğŸ›ï¸ Arquitetura do Projeto

```
begriff/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # AplicaÃ§Ã£o Principal
â”‚   â”‚   â”œâ”€â”€ main.py                   # FastAPI main application
â”‚   â”‚   â”œâ”€â”€ config.py                 # ConfiguraÃ§Ãµes globais
â”‚   â”‚   â””â”€â”€ controllers/              # API Controllers
â”‚   â”‚       â”œâ”€â”€ auth_controller.py    # AutenticaÃ§Ã£o
â”‚   â”‚       â””â”€â”€ analysis_controller.py # AnÃ¡lises
â”‚   â”‚
â”‚   â”œâ”€â”€ domains/                      # Domain-Driven Design
â”‚   â”‚   â”œâ”€â”€ identity/                 # DomÃ­nio de Identidade
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ auth_service.py   # ServiÃ§os de autenticaÃ§Ã£o
â”‚   â”‚   â”‚   â””â”€â”€ dependencies.py       # DependÃªncias JWT
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ risk/                     # DomÃ­nio de Risco
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â””â”€â”€ fraud_service.py  # DetecÃ§Ã£o de fraudes
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ insights/                 # DomÃ­nio de Insights
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â””â”€â”€ carbon_service.py # AnÃ¡lise de carbono
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ transactions/             # DomÃ­nio de TransaÃ§Ãµes
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â””â”€â”€ analysis_service.py # Processamento
â”‚   â”‚       â””â”€â”€ engine/
â”‚   â”‚           â””â”€â”€ transaction_processor.cbl # Motor COBOL
â”‚   â”‚
â”‚   â””â”€â”€ infra/                        # Infraestrutura
â”‚       â”œâ”€â”€ persistence/              # Camada de Dados
â”‚       â”‚   â”œâ”€â”€ database.py           # ConfiguraÃ§Ã£o SQLite
â”‚       â”‚   â”œâ”€â”€ models.py             # Modelos de dados
â”‚       â”‚   â””â”€â”€ repositories/         # RepositÃ³rios
â”‚       â”‚       â”œâ”€â”€ user_repository.py
â”‚       â”‚       â””â”€â”€ analysis_repository.py
â”‚       â”‚
â”‚       â”œâ”€â”€ shared/                   # Recursos Compartilhados
â”‚       â”‚   â””â”€â”€ schemas/              # Schemas Pydantic
â”‚       â”‚       â”œâ”€â”€ user_schema.py
â”‚       â”‚       â”œâ”€â”€ transaction_schema.py
â”‚       â”‚       â””â”€â”€ analysis_schema.py
â”‚       â”‚
â”‚       â””â”€â”€ gateways/                 # Gateways Externos
â”‚           â””â”€â”€ performance_gateway/   # Gateway C++
â”‚               â”œâ”€â”€ src/
â”‚               â”‚   â””â”€â”€ gateway.cpp   # ImplementaÃ§Ã£o C++
â”‚               â””â”€â”€ Dockerfile        # Container C++
â”‚
â”œâ”€â”€ docker-compose.yml                # OrquestraÃ§Ã£o de serviÃ§os
â”œâ”€â”€ Dockerfile                        # Container Python
â”œâ”€â”€ requirements.txt                  # DependÃªncias Python
â””â”€â”€ README.md                         # Este arquivo
```

## ğŸ“‹ PrÃ©-requisitos

- Python 3.9 ou superior
- Docker e Docker Compose
- GnuCOBOL 3.2+ (para desenvolvimento local)
- Compilador C++20 (GCC 10+ ou Clang 12+)

## ğŸš€ InstalaÃ§Ã£o

### InstalaÃ§Ã£o com Docker (Recomendada)

```bash
# Clonar o repositÃ³rio
git clone https://github.com/seu-usuario/begriff.git
cd begriff

# Construir e executar com Docker Compose
docker-compose up --build

# A aplicaÃ§Ã£o estarÃ¡ disponÃ­vel em http://localhost:8000
```

### InstalaÃ§Ã£o Local (Desenvolvimento)

```bash
# Clonar o repositÃ³rio
git clone https://github.com/seu-usuario/begriff.git
cd begriff

# Criar ambiente virtual
python -m venv venv

# Ativar ambiente virtual
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# Instalar dependÃªncias Python
pip install -r requirements.txt

# Construir gateway C++
cd src/infra/gateways/performance_gateway
docker build -t begriff-cpp-gateway .
cd ../../../../

# Executar aplicaÃ§Ã£o
python src/app/main.py
```

## âš™ï¸ ConfiguraÃ§Ã£o

### VariÃ¡veis de Ambiente

Crie um arquivo `.env` na raiz do projeto:

```env
# ConfiguraÃ§Ãµes da aplicaÃ§Ã£o
APP_NAME=Begriff
APP_VERSION=1.0.0
DEBUG=True

# ConfiguraÃ§Ãµes do banco de dados
DATABASE_URL=sqlite:///./begriff.db
DATABASE_WAL_MODE=True

# ConfiguraÃ§Ãµes de seguranÃ§a
SECRET_KEY=sua_chave_secreta_jwt_aqui
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ConfiguraÃ§Ãµes do gateway C++
CPP_GATEWAY_HOST=localhost
CPP_GATEWAY_PORT=8080
CPP_GATEWAY_TIMEOUT=30

# ConfiguraÃ§Ãµes de ML
ML_MODEL_PATH=./models/
FRAUD_DETECTION_THRESHOLD=0.7
CARBON_CALCULATION_ENABLED=True

# ConfiguraÃ§Ãµes futuras (para prÃ³ximas versÃµes)
GEMINI_API_KEY=sua_chave_gemini_aqui
BLOCKCHAIN_NETWORK=polygon_mumbai
OPEN_BANKING_ENABLED=False
```

### ConfiguraÃ§Ã£o do Banco de Dados

```bash
# O banco serÃ¡ criado automaticamente na primeira execuÃ§Ã£o
# Para resetar o banco de dados:
rm begriff.db
python src/app/main.py  # RecriarÃ¡ automaticamente
```

## ğŸ–¥ï¸ Executando a AplicaÃ§Ã£o

### ProduÃ§Ã£o (Docker)
```bash
docker-compose up -d
```

### Desenvolvimento
```bash
# Com ambiente virtual ativado
python src/app/main.py

# Ou usando uvicorn diretamente
uvicorn src.app.main:app --reload --host 0.0.0.0 --port 8000
```

### Acessando a API

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **Health Check**: http://localhost:8000/health

## ğŸ“Š Como Usar

### 1. AutenticaÃ§Ã£o

```bash
# Registrar novo usuÃ¡rio
curl -X POST "http://localhost:8000/auth/register" \
  -H "Content-Type: application/json" \
  -d '{"username": "usuario", "email": "user@example.com", "password": "senha123"}'

# Fazer login
curl -X POST "http://localhost:8000/auth/token" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=usuario&password=senha123"
```

### 2. AnÃ¡lise de TransaÃ§Ãµes

```bash
# Analisar transaÃ§Ã£o (requer token JWT)
curl -X POST "http://localhost:8000/analysis/analyze" \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "amount": 1000.50,
    "description": "Compra no supermercado",
    "category": "alimentacao",
    "merchant": "Supermercado XYZ"
  }'
```

### 3. HistÃ³rico de AnÃ¡lises

```bash
# Recuperar histÃ³rico
curl -X GET "http://localhost:8000/analysis/?skip=0&limit=10" \
  -H "Authorization: Bearer seu_token_jwt"
```

## ğŸ§ª Testes

```bash
# Executar todos os testes
python -m pytest

# Executar com relatÃ³rio de cobertura
python -m pytest --cov=src --cov-report=html

# Testes especÃ­ficos por domÃ­nio
python -m pytest tests/domains/risk/test_fraud_service.py
python -m pytest tests/domains/identity/test_auth_service.py

# Testes de integraÃ§Ã£o
python -m pytest tests/integration/
```

### Estrutura de Testes

```
tests/
â”œâ”€â”€ unit/                    # Testes unitÃ¡rios
â”‚   â”œâ”€â”€ domains/
â”‚   â”‚   â”œâ”€â”€ risk/
â”‚   â”‚   â”œâ”€â”€ identity/
â”‚   â”‚   â”œâ”€â”€ insights/
â”‚   â”‚   â””â”€â”€ transactions/
â”‚   â””â”€â”€ infra/
â”œâ”€â”€ integration/             # Testes de integraÃ§Ã£o
â”‚   â”œâ”€â”€ test_api_flow.py
â”‚   â””â”€â”€ test_cpp_gateway.py
â””â”€â”€ fixtures/               # Dados de teste
    â”œâ”€â”€ sample_transactions.json
    â””â”€â”€ test_models.pkl
```

## ğŸ”„ Pipeline de Desenvolvimento

### Branching Strategy
```bash
# Feature development
git checkout -b feature/nome-da-funcionalidade
git commit -m "feat: adiciona nova funcionalidade"
git push origin feature/nome-da-funcionalidade

# Hotfixes
git checkout -b hotfix/correcao-critica
git commit -m "fix: corrige problema crÃ­tico"
```

### Code Quality
```bash
# FormataÃ§Ã£o de cÃ³digo
black src/
isort src/

# Linting
flake8 src/
mypy src/

# Testes
pytest --cov=src --cov-fail-under=80
```

## ğŸš¢ Deploy

### Ambiente de ProduÃ§Ã£o

```bash
# Build para produÃ§Ã£o
docker-compose -f docker-compose.prod.yml build

# Deploy
docker-compose -f docker-compose.prod.yml up -d

# Monitoramento
docker-compose logs -f
```

### ConfiguraÃ§Ãµes de ProduÃ§Ã£o

```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  begriff-api:
    build: .
    environment:
      - DEBUG=False
      - DATABASE_WAL_MODE=True
    deploy:
      replicas: 3
      resources:
        limits:
          memory: 1G
          cpus: '0.5'
```

## ğŸ”„ Roadmap de Desenvolvimento

### Fase 2
- [ ] Interface React com dashboard interativo
- [ ] IntegraÃ§Ã£o com Gemini 2.5 Pro
- [ ] GÃªmeos Digitais com simulaÃ§Ãµes Monte Carlo
- [ ] Sistema de alertas em tempo real

### Fase 3
- [ ] Blockchain privada para auditoria
- [ ] Open Banking com 15+ bancos brasileiros
- [ ] ML Ensemble avanÃ§ado (Isolation Forest + LSTM)
- [ ] API GraphQL para consultas complexas

### Fase 4
- [ ] Criptografia pÃ³s-quÃ¢ntica
- [ ] Edge computing e microserviÃ§os
- [ ] AnÃ¡lise de sentimento de mercado
- [ ] Compliance automÃ¡tico com regulamentaÃ§Ãµes

### PadrÃµes de CÃ³digo

- **Clean Architecture**: SeparaÃ§Ã£o clara entre domÃ­nios
- **DDD**: Domain-Driven Design para modelagem
- **SOLID**: PrincÃ­pios de desenvolvimento orientado a objetos
- **PEP 8**: PadrÃ£o de formataÃ§Ã£o Python
- **Conventional Commits**: PadrÃ£o de mensagens de commit

## ğŸ“ˆ Performance

### MÃ©tricas Atuais (v1.0.0)

```
Pipeline HÃ­brido:
â”œâ”€ LatÃªncia: <50ms (C++ Gateway)
â”œâ”€ Throughput: 100.000+ transaÃ§Ãµes/segundo
â”œâ”€ Processamento COBOL: 100.000+ registros/segundos
â””â”€ Disponibilidade: 99.9%

DetecÃ§Ã£o de Fraude:
â”œâ”€ PrecisÃ£o: 95%+ (v1.0.0)
â”œâ”€ Tempo de Resposta: <10ms
â”œâ”€ False Positives: <2%
â””â”€ Target V2.0: 98%+ precisÃ£o
```

## ğŸ”’ SeguranÃ§a

### Medidas Implementadas

- **AutenticaÃ§Ã£o JWT**: Tokens seguros com expiraÃ§Ã£o
- **Hashing bcrypt**: ProteÃ§Ã£o de senhas com salt
- **ValidaÃ§Ã£o de Input**: SanitizaÃ§Ã£o de dados de entrada
- **Rate Limiting**: ProteÃ§Ã£o contra ataques DDoS
- **HTTPS Only**: ComunicaÃ§Ã£o criptografada

### Medidas Planejadas

- **Criptografia PÃ³s-QuÃ¢ntica**: Algoritmos Kyber e Dilithium
- **Zero-Knowledge Proofs**: Privacidade em auditoria blockchain
- **Multi-Factor Authentication**: Camada adicional de seguranÃ§a
- **Security Auditing**: Logs imutÃ¡veis de seguranÃ§a

## ğŸ“œ LicenÃ§a

Este projeto estÃ¡ licenciado sob a licenÃ§a MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ğŸ“ Suporte e Contato

- **Email**: thiagodifaria@gmail.com
- **DocumentaÃ§Ã£o**: [docs.begriff.com](https://docs.begriff.com)
---

**Begriff** - Transformando o legado em inteligÃªncia financeira do futuro ğŸš€